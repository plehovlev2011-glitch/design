<!DOCTYPE html>
<html>
<head>
<title>/l - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–ª–∏–∫–æ–≤</title>
<style>
* {
  margin: 0;
  padding: 0;
  border: 0;
  box-sizing: border-box;
  -webkit-user-select: none;
  user-select: none;
  cursor: crosshair;
}

html, body {
  height: 100%;
  width: 100%;
  overflow: hidden;
  background: #0011ff;
  display: flex;
  flex-direction: column;
  font-family: 'Courier New', monospace;
}

.container {
  flex: 1;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
}

.main-image {
  max-width: 95vw;
  max-height: 80vh;
  width: auto;
  height: auto;
  display: block;
  cursor: crosshair;
}

.coordinates-panel {
  background: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 15px;
  font-size: 14px;
  height: 20vh;
  overflow-y: auto;
  border-top: 2px solid white;
}

.coordinates-panel h3 {
  margin: 0 0 10px 0;
  color: #00ff00;
}

.coordinates-list {
  font-family: 'Courier New', monospace;
  margin-bottom: 10px;
}

.coord-item {
  margin-bottom: 5px;
  padding: 3px 0;
  border-bottom: 1px solid #333;
}

.coord-item:last-child {
  border-bottom: none;
}

.controls {
  display: flex;
  gap: 10px;
  margin-top: 10px;
}

button {
  background: #00ff00;
  color: black;
  border: none;
  padding: 8px 15px;
  font-family: 'Courier New', monospace;
  font-weight: bold;
  cursor: pointer;
  border-radius: 3px;
  transition: background 0.2s;
}

button:hover {
  background: #00cc00;
}

.clear-btn {
  background: #ff5555;
}

.clear-btn:hover {
  background: #cc0000;
}

.coord-marker {
  position: absolute;
  width: 12px;
  height: 12px;
  background: red;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
  z-index: 1000;
  border: 2px solid white;
  animation: pulse 0.5s;
}

@keyframes pulse {
  0% { transform: translate(-50%, -50%) scale(1); }
  50% { transform: translate(-50%, -50%) scale(1.5); }
  100% { transform: translate(-50%, -50%) scale(1); }
}

.coord-number {
  position: absolute;
  color: white;
  font-weight: bold;
  font-size: 12px;
  background: red;
  padding: 2px 5px;
  border-radius: 3px;
  transform: translate(-50%, -25px);
  pointer-events: none;
  z-index: 1000;
}
</style>
</head>
<body>
<div class="container" id="imageContainer">
  <img src="hello.png" class="main-image" id="mainImage" alt="–í–∞—à–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">
</div>

<div class="coordinates-panel">
  <h3>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–ª–∏–∫–æ–≤ (–ø–æ—Å–ª–µ–¥–Ω–∏–π ‚Äî —Å–≤–µ—Ä—Ö—É)</h3>
  <div class="coordinates-list" id="coordList">
    <!-- –°—é–¥–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã -->
  </div>
  
  <div class="controls">
    <button onclick="copyAllCoordinates()">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã</button>
    <button onclick="copyLastCoordinate()">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É</button>
    <button class="clear-btn" onclick="clearAllCoordinates()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ</button>
  </div>
</div>

<script>
let clickCount = 0;
const coordinates = [];

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é
document.getElementById('imageContainer').addEventListener('click', function(e) {
  const img = document.getElementById('mainImage');
  const container = this;
  
  // –ü–æ–ª—É—á–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  const rect = img.getBoundingClientRect();
  const containerRect = container.getBoundingClientRect();
  
  // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  const x = Math.round(e.clientX - rect.left);
  const y = Math.round(e.clientY - rect.top);
  
  // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
  const xPercent = Math.round((x / rect.width) * 100);
  const yPercent = Math.round((y / rect.height) * 100);
  
  clickCount++;
  
  // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É
  const coordData = {
    id: clickCount,
    x: x,
    y: y,
    xPercent: xPercent,
    yPercent: yPercent,
    width: Math.round(rect.width),
    height: Math.round(rect.height)
  };
  
  coordinates.unshift(coordData); // –î–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–∞—á–∞–ª–æ
  
  // –°–æ–∑–¥–∞–µ–º –º–∞—Ä–∫–µ—Ä
  createMarker(e.clientX - containerRect.left, e.clientY - containerRect.top, clickCount);
  
  // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫
  updateCoordinatesList();
  
  console.log(`–ö–ª–∏–∫ #${clickCount}: X=${x}px (${xPercent}%), Y=${y}px (${yPercent}%)`);
});

// –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–∞ –Ω–∞ –º–µ—Å—Ç–µ –∫–ª–∏–∫–∞
function createMarker(x, y, number) {
  const container = document.getElementById('imageContainer');
  
  const marker = document.createElement('div');
  marker.className = 'coord-marker';
  marker.style.left = x + 'px';
  marker.style.top = y + 'px';
  
  const numberLabel = document.createElement('div');
  numberLabel.className = 'coord-number';
  numberLabel.textContent = number;
  numberLabel.style.left = x + 'px';
  numberLabel.style.top = y + 'px';
  
  container.appendChild(marker);
  container.appendChild(numberLabel);
  
  // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥
  setTimeout(() => {
    marker.remove();
    numberLabel.remove();
  }, 10000);
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
function updateCoordinatesList() {
  const list = document.getElementById('coordList');
  list.innerHTML = '';
  
  coordinates.forEach(coord => {
    const item = document.createElement('div');
    item.className = 'coord-item';
    item.innerHTML = `
      <strong>#${coord.id}:</strong> 
      X=${coord.x}px (${coord.xPercent}%), 
      Y=${coord.y}px (${coord.yPercent}%) 
      [${coord.width}√ó${coord.height}]
    `;
    list.appendChild(item);
  });
}

// –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
function copyAllCoordinates() {
  let text = `–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–ª–∏–∫–æ–≤ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:\n`;
  text += `–†–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: ${coordinates[0]?.width || 0}√ó${coordinates[0]?.height || 0}px\n\n`;
  
  coordinates.forEach(coord => {
    text += `#${coord.id}: X=${coord.x}px (${coord.xPercent}%), Y=${coord.y}px (${coord.yPercent}%)\n`;
  });
  
  // –§–æ—Ä–º–∞—Ç –¥–ª—è JS –∫–æ–¥–∞
  text += `\n// –î–ª—è JavaScript –∫–æ–¥–∞:\n`;
  coordinates.forEach(coord => {
    text += `{x1: ${coord.x-50}, y1: ${coord.y-25}, x2: ${coord.x+50}, y2: ${coord.y+25}, url: 'page.html'},\n`;
  });
  
  copyToClipboard(text);
  alert(`–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ ${coordinates.length} –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç!`);
}

// –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
function copyLastCoordinate() {
  if (coordinates.length === 0) {
    alert('–ù–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è!');
    return;
  }
  
  const last = coordinates[0];
  const text = `X=${last.x}px (${last.xPercent}%), Y=${last.y}px (${last.yPercent}%)`;
  
  copyToClipboard(text);
  alert('–ü–æ—Å–ª–µ–¥–Ω—è—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!');
}

// –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
function clearAllCoordinates() {
  if (confirm('–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏ –º–∞—Ä–∫–µ—Ä—ã?')) {
    clickCount = 0;
    coordinates.length = 0;
    
    // –£–¥–∞–ª—è–µ–º –≤—Å–µ –º–∞—Ä–∫–µ—Ä—ã
    document.querySelectorAll('.coord-marker, .coord-number').forEach(el => el.remove());
    
    updateCoordinatesList();
    alert('–í—Å–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ—á–∏—â–µ–Ω—ã!');
  }
}

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
function copyToClipboard(text) {
  const textarea = document.createElement('textarea');
  textarea.value = text;
  document.body.appendChild(textarea);
  textarea.select();
  document.execCommand('copy');
  document.body.removeChild(textarea);
}

// –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
window.addEventListener('load', function() {
  setTimeout(() => {
    alert('–ö–ª–∏–∫–∞–π—Ç–µ –ø–æ –∫–Ω–æ–ø–∫–∞–º –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã.\n–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤–Ω–∏–∑—É —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è.');
  }, 500);
});
</script>
</body>
</html>
