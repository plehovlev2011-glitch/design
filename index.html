<!DOCTYPE html>
<html>
<head>
<title>/l - дизайню с душой</title>
<style>
* {
  margin: 0;
  padding: 0;
  border: 0;
  box-sizing: border-box;
  -webkit-user-select: none;
  user-select: none;
  cursor: url('curs.png'), auto;
}

html, body {
  height: 100%;
  width: 100%;
  overflow: hidden;
  background: #0011ff;
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: 'Courier New', monospace;
}

.load-screen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #0011ff;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10000;
}

.load-screen img {
  max-width: 95vw;
  max-height: 95vh;
  width: auto;
  height: auto;
  display: none;
}

.load-screen img.active {
  display: block;
}

#load1.active {
  animation: fadeIn 0.5s ease-in;
}

#load2.active, #load3.active {
  animation: none;
}

#load3.hiding {
  animation: fadeOut 0.8s ease-out forwards;
}

.main-content {
  display: none;
}

.main-content.active {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
}

.main-content img {
  max-width: 95vw;
  max-height: 95vh;
  width: auto;
  height: auto;
  display: block;
  pointer-events: none;
  animation: fadeInZoom 1.2s ease-out;
}

.block-screen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #0011ff;
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  font-family: 'Courier New', monospace;
  color: white;
  font-size: 24px;
  text-align: center;
  padding: 20px;
  flex-direction: column;
}

.block-screen.active {
  display: flex;
}

.error-text {
  background: rgba(0, 0, 0, 0.7);
  padding: 30px 50px;
  border-radius: 1000px;
  max-width: 80%;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeOut {
  from { opacity: 1; }
  to { opacity: 0; }
}

@keyframes fadeInZoom {
  0% {
    opacity: 0;
    transform: scale(0.95);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.audio-element {
  display: none;
}
</style>
</head>
<body>
<!-- Экран загрузки -->
<div class="load-screen" id="loadScreen">
  <img id="load1" src="load1.png" alt="">
  <img id="load2" src="load2.png" alt="">
  <img id="load3" src="load3.png" alt="">
</div>

<!-- Основной контент -->
<div class="main-content" id="mainContent">
  <img src="hello.png">
</div>

<!-- Блок-экран ошибки -->
<div class="block-screen" id="blockScreen">
  <div class="error-text">
    ой. произошла ошибка.<br>
    пожалуйста, обнови страницу!
  </div>
</div>

<!-- Аудио элемент для звуков -->
<audio id="clickSound" class="audio-element" preload="auto">
  <source src="entr.mp3" type="audio/mpeg">
</audio>

<script>
// Инициализация переменных
const loadScreen = document.getElementById('loadScreen');
const mainContent = document.getElementById('mainContent');
const blockScreen = document.getElementById('blockScreen');
const clickSound = document.getElementById('clickSound');

// Функция для воспроизведения звука
function playClickSound() {
  if (clickSound) {
    clickSound.currentTime = 0;
    clickSound.play().catch(e => {});
  }
}

// Функция для показа загрузки
function showLoadStep(step) {
  document.getElementById('load1').classList.remove('active');
  document.getElementById('load2').classList.remove('active');
  document.getElementById('load3').classList.remove('active');
  document.getElementById('load3').classList.remove('hiding');
  
  if (document.getElementById(`load${step}`)) {
    document.getElementById(`load${step}`).classList.add('active');
  }
}

// Функция завершения загрузки
function finishLoading() {
  // Добавляем анимацию исчезновения для load3
  const load3 = document.getElementById('load3');
  load3.classList.add('hiding');
  
  // После завершения анимации fade out показываем основное изображение
  setTimeout(() => {
    loadScreen.style.display = 'none';
    mainContent.classList.add('active');
    setTimeout(() => playClickSound(), 300);
  }, 800); // Длительность анимации fadeOut
}

// Процесс загрузки
function startLoadingProcess() {
  // Шаг 1: load1 на 1 секунду (с fade in)
  showLoadStep(1);
  
  setTimeout(() => {
    // Шаг 2: load2 на 0.7 секунды (без анимации)
    showLoadStep(2);
    
    setTimeout(() => {
      // Шаг 3: load3 на случайное время от 0.2 до 2 секунд (без анимации)
      showLoadStep(3);
      const randomTime = 200 + Math.random() * 1800;
      
      setTimeout(() => {
        finishLoading();
      }, randomTime);
      
    }, 700);
    
  }, 1000);
}

// Защита и звуки
document.oncontextmenu = function(e) {
  playClickSound();
  return false;
};

document.onselectstart = function() { return false; };
document.ondragstart = function() { return false; };

document.onkeydown = function(e) {
  playClickSound();
  
  if (e.key === "F12" || 
      (e.ctrlKey && e.shiftKey && e.key === "I") ||
      (e.ctrlKey && e.key === "u")) {
    return false;
  }
};

document.addEventListener('click', function(e) {
  playClickSound();
  e.preventDefault();
});

// Анимация заголовка
let titleIndex = 0;
const titles = [
  "/l - дизайню с душой",
  "/l - быстро, круто, надежно"
];

function changeTitle() {
  document.title = titles[titleIndex];
  titleIndex = (titleIndex + 1) % titles.length;
}

setInterval(changeTitle, 5000);

// Защита от консоли
setInterval(function() {
  if (window.outerHeight - window.innerHeight > 200 || 
      window.outerWidth - window.innerWidth > 200) {
    mainContent.style.display = 'none';
    loadScreen.style.display = 'none';
    blockScreen.classList.add('active');
    playClickSound();
  }
}, 2000);

// Запуск при загрузке страницы
window.addEventListener('load', function() {
  setTimeout(() => {
    startLoadingProcess();
  }, 300);
  
  // Предзагрузка курсора
  if (typeof window.Cursor === 'undefined') {
    let cursorImg = new Image();
    cursorImg.src = 'curs.png';
  }
});

// Предзагрузка звука
window.addEventListener('DOMContentLoaded', function() {
  if (clickSound) {
    clickSound.load();
  }
});
</script>
</body>
</html>
